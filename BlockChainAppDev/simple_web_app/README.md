
# 实验七：Docker 容器化部署

## 一、实验目的

1.理解容器化部署的概念：掌握Docker容器化部署的基本原理，了解如何将应用打包成Docker镜像，并通过容器化技术进行部署。

2.掌握Docker的基本操作：能够使用Docker命令进行镜像构建、容器运行和管理，理解Dockerfile的编写和镜像构建流程。

3.提高应用部署效率：通过容器化应用，实现快速部署、隔离运行和跨平台的兼容性，减少开发与生产环境的不一致问题。

4.学习Dockerfile编写：能够根据Go应用需求编写适当的Dockerfile，实现从基础镜像到最终容器的自动化构建。

5.掌握容器化部署的最佳实践：通过实验，理解如何使用Docker进行微服务应用的容器化管理，保证应用的一致性和可移植性。

## 二、实验原理

1. Docker容器化原理：Docker容器是一种轻量级的虚拟化技术，可以将应用及其依赖打包成镜像，并通过容器进行运行。容器共享主机操作系统的内核，但彼此隔离，具备独立的文件系统、网络和进程空间。
2. Dockerfile的作用：Dockerfile是用于自动化构建Docker镜像的脚本文件。通过指定基础镜像、安装依赖、复制源代码和配置环境等步骤，构建出可执行的应用镜像。
3. 构建与运行容器：构建镜像后，可以通过Docker命令创建和运行容器，容器会根据镜像的配置执行指定的程序。容器的生命周期与镜像分离，可以随时启动、停止或删除容器实例。
4. Go应用的容器化：Go应用通过Dockerfile中的 `COPY`命令将应用源代码复制到镜像中，并通过 `RUN`命令编译应用，然后使用 `CMD`命令设置容器启动时的执行命令。

## 三、实验仪器材料

1.计算机：运行Windows、Linux或macOS操作系统的计算机。

2.Go语言环境：已安装并配置好Go语言环境，包括GOPATH、GOROOT等环境变量的设置。

3.文本编辑器或IDE：如VS Code、GoLand等，用于编写Go代码。

4.Docker环境：已安装并配置好Docker引擎，包括 `docker`和 `docker-compose`命令。

5.终端工具：如命令行、PowerShell、Terminal等，用于执行Docker命令。

## 四、实验步骤

1.创建Go应用代码：创建一个名为 `simple_web_app`的Go项目，并编写一个http简单响应的接口。

2.编写Dockerfile：

在项目根目录下创建一个名为 `Dockerfile`的文件，内容如下：

3.构建Docker镜像：

打开终端，进入到 `simple_web_app`项目目录，执行以下命令构建Docker镜像：

该命令会使用当前目录中的 `Dockerfile`文件，构建一个名为 `simple_web_app`的镜像。

4.运行Docker容器：运行构建好的镜像，创建并启动一个容器。

5.验证应用是否正常工作：在浏览器或使用 `curl`命令访问 `http://localhost:8080/ping`，如果返回 `pong`，则说明应用已成功运行。
